<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Add instructor field to existing view -->
        <record model="ir.ui.view" id="helpdesk_ticket_inherit">
                <field name="name">Helpdesk TAs</field>
                <field name="model">helpdesk.ticket</field>
                <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_form"></field>
                <field name="arch" type="xml">
                    
                    <field name="ticket_type_id" position="after">
                        <field name="assist_type" />
                        <field name="sub_assist_type" domain="[('assist_type','=', assist_type)]" widget="selection"/>
                        <field name="ticket_type" invisible="1"/>
                        <field name="crm_lead_id"/>
                    </field>
                    <field name="sla_deadline" position="after">
                        <field name="urgency_level"/>
                        <field name="consultation_reason"/>
                        <field name="observations"/>
                        <field name="case_close_motive"/>
                        <field name="tracking_type"/>
                        <field name="is_disputed"/>
                        <field name="amount"/>
                        <field name="currency_id"/>
                        <field name="amount_local"/>
                    </field>
                    <xpath expr="//form/sheet/group/group[2]" position="inside">
                        <field name="create_date"/>
                        <field name="close_date"/>
                        <field name="case_state"/>
                        <field name="turn"/>
                        <field name="copay"/>
                        <field name="lack"/>
                        <field name="service_level"/>
                        <field name="pending_document_id"/>
                    </xpath>
                    <!--Campos a ser reemplazados-->
                    <field name="partner_name" position="replace"/>
                    <field name="partner_email" position="replace"/>
                    <field name="email_cc" position="replace"/>
                    <xpath expr="//form/sheet" position="inside">
                        <notebook>
                            <page id="partner_information" string="Información del Cliente">
                                <form>
                                    <group>
                                        <group>
                                            <field name="partner_name" string="Nombre de Cliente"/>
                                            <field name="partner_email" string="Email de Cliente"/>
                                            <field name="partner_age"/>
                                            <field name="email_cc" string="Email CC"/>
                                            <field name="ubication"/>
                                        </group>
                                        <group>
                                        
                                        </group>
                                    </group>
                                </form>
                            </page>
                        </notebook>
                        <notebook>
                            <page id="refund_information" string="Información de Reembolso">
                                <form>
                                    <group>
                                        <group>
                                            <field name="is_approved"/>
                                            <field name="amount_requested"/>
                                            <field name="currency_id_amount_requested"/>
                                            <field name="amount_requested_usd"/>
                                            <field name="answer_date"/>
                                            <field name="disputed_case"/>
                                            <field name="payment_date"/>
                                        </group>
                                        <group>
                                            <field name="refund"/>
                                            <field name="amount_approved"/>
                                            <field name="currency_amount_refunded"/>
                                            <field name="refund_type"/>
                                            <field name="documents_reception_date"/>
                                            <field name="located"/>
                                            <field name="payday_limit_datetime"/>
                                        </group>
                                    </group>
                                </form>
                            </page>
                        </notebook>
                        <notebook>
                            <page id="other" string="Información Extra">
                                <group>
                                    <group>
                                        <field name="case_days"/>
                                        <field name="case_priority"/>
                                        <field name="other_description"/>
                                    </group>
                                    <group>
                                        <field name="subject"/>
                                        <field name="is_email_survey"/>
                                        <field name="is_wsp_survey"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                        <notebook>
                            <page id="page_quality" string="Calidades">
                                <field name="quality_ids" >
                                    <tree>
                                        <field name="claim_type"/>
                                        <field name="comments_date"/>
                                        <field name="reception_type"/>
                                        <field name="claim_motive"/>
                                        <field name="expend"/>
                                        <field name="cmments_delete"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="claim_type"/>
                                                <field name="comments_date"/>
                                                <field name="reception_type"/>
                                            </group>
                                            <group>
                                                <field name="claim_motive"/>
                                                <field name="expend"/>
                                                <field name="cmments_delete"/>
                                            </group>
                                        </group>
                                    </form>
                                </field>
                            </page>
                            <!-- Reference ticket_type  -->
                            <page id="page_gop" string="GOP"  attrs="{'invisible':[('ticket_type','!=','Asistencia Medica')]}">
                                <field name="gop_ids" >
                                    <tree editable="bottom">
                                        <field name="name"/>
                                        <field name="code"/>
                                        <field name="amount"/>
                                        <field name="currency"/>
                                        <field name="service_type"/>
                                        <field name="reference"/>
                                        <field name="medical_center_name"/>
                                        <field name="observation"/>
                                        <field name="asisst"/>
                                        <field name="is_reviewed"/>
                                        <field name="is_paid"/>
                                        <field name="invoice_number"/>
                                        <field name="is_disputed"/>
                                        <field name="invoice_month"/>
                                        <field name="payment_month"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="name"/>
                                                <field name="code"/>
                                                <field name="amount"/>
                                                <field name="currency"/>
                                                <field name="service_type"/>
                                                <field name="reference"/>
                                                <field name="medical_center_name"/>
                                                <field name="observation"/>
                                            </group>
                                            <group>
                                                <field name="asisst"/>
                                                <field name="is_reviewed"/>
                                                <field name="is_paid"/>
                                                <field name="invoice_number"/>
                                                <field name="is_disputed"/>
                                                <field name="invoice_month"/>
                                                <field name="payment_month"/>
                                            </group>
                                        </group>
                                    </form>
                                </field>
                            </page>
                            <page id="page_quiz" string="Encuestas">
                                <field name="quiz_ids" >
                                    <tree>
                                        <field name="q_contact_type"/>
                                        <field name="q_service_type"/>
                                        <field name="q_classification"/>
                                        <field name="q_observation"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="q_contact_type"/>
                                                <field name="q_service_type"/>
                                                <field name="q_classification"/>
                                            </group>
                                            <group>
                                                <field name="q_observation"/>
                                            </group>
                                        </group>
                                    </form>
                                </field>
                            </page>
                        </notebook>
                        <notebook>
                            <page id="page_comment" string="Comentarios">
                                <field name="comment_ids">
                                    <tree>
                                        <field name="auto_id_comentario"/>
                                        <field name="comment_type"/>
                                        <field name="comment_description"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="auto_id_comentario"/>
                                                <field name="comment_type"/>
                                            </group>
                                            <group>
                                                <field name="comment_description"/>
                                            </group>
                                        </group>
                                    </form>
                                </field>
                            </page>
                        </notebook>
                    </xpath>
                </field>
        </record>
    </data>
</odoo>